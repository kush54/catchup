{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kuljeet\\\\Desktop\\\\catchup-final\\\\client\\\\my-app\\\\src\\\\features\\\\Functions\\\\Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { socket } from \"../socket/Socket\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectAllMessages, selectAllUsers, selectRecuever, selectUserId, setAllMessages, setReceiver } from \"./helpSlice\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Chat = () => {\n  _s();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const userId = useSelector(selectUserId);\n  const onlineUsers = useSelector(selectAllUsers);\n  const reciever = useSelector(selectRecuever);\n  const [message, setMessage] = useState(\"\");\n  const allMessages = useSelector(selectAllMessages);\n  const [stop, setStop] = useState(false);\n  const chatBoxRef = useRef(null);\n  const newChat = () => {\n    setStop(false);\n    console.log(userId, socket.id, \"check\");\n    socket.emit(\"pairing-user\", userId, error => {\n      return error;\n    });\n    socket.on(\"user-paired\", recieverId => {\n      dispatch(setReceiver(recieverId));\n    });\n    return () => {\n      socket.off(\"user-paired\");\n    };\n  };\n  useEffect(() => {\n    if (reciever !== undefined && !onlineUsers.find(user => user.sid === reciever)) {\n      dispatch(setAllMessages({\n        type: \"end\"\n      }));\n      dispatch(setReceiver(null));\n    }\n  }, [onlineUsers, reciever, dispatch]);\n  useEffect(() => {\n    console.log(\"upr\", userId, onlineUsers);\n    if (userId && onlineUsers.find(user => user.id === userId)) {\n      console.log(\"chla\");\n      newChat();\n    } else {\n      navigate(\"/\");\n    }\n  }, []);\n  const handleClick = () => {\n    if (message.length === 0) {\n      return;\n    }\n    console.log(reciever, \"here\");\n    dispatch(setAllMessages({\n      message: message,\n      type: \"you\"\n    }));\n    console.log(reciever, \"rec\");\n    socket.emit(\"send-message\", {\n      reciever: reciever,\n      message: message\n    });\n    setMessage(\"\");\n  };\n  useEffect(() => {\n    socket.on(\"send-message\", message => {\n      dispatch(setAllMessages({\n        message: message,\n        type: \"stranger\"\n      }));\n      setMessage(\"\");\n    });\n    return () => {\n      socket.off(\"send-message\");\n    };\n  }, [dispatch]);\n  const handleStop = () => {\n    setStop(true);\n    if (reciever) {\n      socket.emit(\"chat-close\", reciever, () => {\n        dispatch(setReceiver(null));\n        dispatch(setAllMessages({\n          type: \"end\"\n        }));\n      });\n    } else {\n      socket.emit(\"unpairing-user\", userId, () => {});\n    }\n  };\n  useEffect(() => {\n    socket.on(\"chat-close\", () => {\n      setStop(true);\n      dispatch(setReceiver(null));\n      dispatch(setAllMessages({\n        type: \"end\"\n      }));\n      setMessage(\"\");\n    });\n    return () => {\n      socket.off(\"chat-close\");\n    };\n  }, [dispatch]);\n  const handleKeyPress = e => {\n    if (e.key === \"Enter\") {\n      dispatch(setAllMessages({\n        message: message,\n        type: \"you\"\n      }));\n      socket.emit(\"send-message\", {\n        reciever,\n        message\n      });\n      setMessage(\"\");\n    }\n  };\n  useEffect(() => {\n    if (chatBoxRef.current) {\n      chatBoxRef.current.scrollTop = chatBoxRef.current.scrollHeight;\n    }\n  }, [allMessages]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" bg-sky-900 h-[600px] flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"bg-white shadow-md\",\n        children: !stop ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-7xl mx-auto px-4 py-3\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: reciever ? \"text-lg font-semibold text-gray-800\" : \"text-red-700 text-2xl font-extrabold\",\n            children: reciever ? \"Chat with stranger\" : \"Connecting someone to chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-7xl mx-auto px-4 py-3\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-gray-800\",\n            children: \"Tap new to start a new conversation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1  overflow-y-auto px-4 py-6\",\n        ref: chatBoxRef,\n        children: allMessages.map((mess, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start justify-start mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-lg p-4 max-w-xs\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: `${mess.type === \"you\" ? \"text-amber-400\" : \"text-blue-400\"} m-auto`,\n              children: mess.type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `text-xl font-bold font-serif ${mess.type === \"you\" ? \"text-white\" : \"text-white\"}`,\n              children: mess.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border-t stick border-gray-200\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 py-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: message,\n          onChange: e => setMessage(e.target.value),\n          onKeyDown: e => handleKeyPress(e),\n          ref: chatBoxRef,\n          className: \"w-full border rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500\",\n          placeholder: \"Type your message...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleClick,\n          className: \"ml-2 bg-blue-500 text-white rounded-lg px-4 py-2 hover:bg-blue-600 focus:outline-none\",\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleStop,\n          className: \"ml-2 bg-blue-500 text-white rounded-lg px-4 py-2 hover:bg-blue-600 focus:outline-none\",\n          children: \"Stop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: newChat,\n          className: \"ml-2 bg-blue-500 text-white rounded-lg px-4 py-2 hover:bg-blue-600 focus:outline-none\",\n          children: \"New\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n_s(Chat, \"kYZDSIEuNfj7boNH8tHAJlZatRo=\", false, function () {\n  return [useDispatch, useNavigate, useSelector, useSelector, useSelector, useSelector];\n});\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useEffect","useState","useRef","socket","useDispatch","useSelector","selectAllMessages","selectAllUsers","selectRecuever","selectUserId","setAllMessages","setReceiver","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Chat","_s","dispatch","navigate","userId","onlineUsers","reciever","message","setMessage","allMessages","stop","setStop","chatBoxRef","newChat","console","log","id","emit","error","on","recieverId","off","undefined","find","user","sid","type","handleClick","length","handleStop","handleKeyPress","e","key","current","scrollTop","scrollHeight","children","className","fileName","_jsxFileName","lineNumber","columnNumber","ref","map","mess","index","value","onChange","target","onKeyDown","placeholder","onClick","_c","$RefreshReg$"],"sources":["C:/Users/kuljeet/Desktop/catchup-final/client/my-app/src/features/Functions/Chat.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport { socket } from \"../socket/Socket\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  selectAllMessages,\r\n  selectAllUsers,\r\n  selectRecuever,\r\n  selectUserId,\r\n  setAllMessages,\r\n  setReceiver\r\n} from \"./helpSlice\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Chat = () => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const userId = useSelector(selectUserId);\r\n  const onlineUsers = useSelector(selectAllUsers);\r\n  const reciever = useSelector(selectRecuever);\r\n  const [message, setMessage] = useState(\"\");\r\n  const allMessages = useSelector(selectAllMessages);\r\n  const [stop, setStop] = useState(false);\r\n  const chatBoxRef = useRef(null);\r\n\r\n  const newChat = () => {\r\n    setStop(false);\r\n    console.log(userId,socket.id,\"check\")\r\n    socket.emit(\"pairing-user\", userId, (error) => {\r\n      return error;\r\n    });\r\n\r\n    socket.on(\"user-paired\", (recieverId) => {\r\n      dispatch(setReceiver(recieverId));\r\n    });\r\n\r\n    return () => {\r\n      socket.off(\"user-paired\");\r\n    };\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (reciever !== undefined && !onlineUsers.find((user) => user.sid === reciever)) {\r\n      dispatch(setAllMessages({ type: \"end\" }));\r\n      dispatch(setReceiver(null));\r\n    }\r\n  }, [onlineUsers, reciever, dispatch]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"upr\",userId,onlineUsers)\r\n    if (userId && onlineUsers.find((user) => user.id === userId)) {\r\n      console.log(\"chla\")\r\n      newChat();\r\n    } else {\r\n      navigate(\"/\");\r\n    }\r\n  }, []);\r\n\r\n  const handleClick = () => {\r\n    if (message.length === 0) {\r\n      return;\r\n    }\r\n    console.log(reciever,\"here\")\r\n    dispatch(setAllMessages({ message: message, type: \"you\" }));\r\n    console.log(reciever,\"rec\")\r\n    socket.emit(\"send-message\", { reciever:reciever, message:message });\r\n    setMessage(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.on(\"send-message\", (message) => {\r\n      dispatch(setAllMessages({ message: message, type: \"stranger\" }));\r\n      setMessage(\"\");\r\n    });\r\n    return () => {\r\n      socket.off(\"send-message\");\r\n    };\r\n  }, [dispatch]);\r\n\r\n  const handleStop = () => {\r\n    setStop(true);\r\n    if (reciever) {\r\n      socket.emit(\"chat-close\", reciever, () => {\r\n        dispatch(setReceiver(null));\r\n        dispatch(setAllMessages({ type: \"end\" }));\r\n      });\r\n    } else {\r\n      socket.emit(\"unpairing-user\", userId, () => {});\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.on(\"chat-close\", () => {\r\n      setStop(true);\r\n      dispatch(setReceiver(null));\r\n      dispatch(setAllMessages({ type: \"end\" }));\r\n      setMessage(\"\");\r\n    });\r\n    return () => {\r\n      socket.off(\"chat-close\");\r\n    };\r\n  }, [dispatch]);\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      dispatch(setAllMessages({ message: message, type: \"you\" }));\r\n      socket.emit(\"send-message\", { reciever, message });\r\n      setMessage(\"\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (chatBoxRef.current) {\r\n      chatBoxRef.current.scrollTop = chatBoxRef.current.scrollHeight;\r\n    }\r\n  }, [allMessages]);\r\n\r\n\r\n  return (\r\n    <>\r\n   <div className=\" bg-sky-900 h-[600px] flex flex-col\">\r\n      <header className=\"bg-white shadow-md\">\r\n        {!stop ? (\r\n          <div className=\"max-w-7xl mx-auto px-4 py-3\">\r\n            <h1 className={reciever ? \"text-lg font-semibold text-gray-800\" : \"text-red-700 text-2xl font-extrabold\"}>\r\n              {reciever ? \"Chat with stranger\" : \"Connecting someone to chat\"}\r\n            </h1>\r\n          </div>\r\n        ) : (\r\n          <div className=\"max-w-7xl mx-auto px-4 py-3\">\r\n            <h1 className=\"text-gray-800\">Tap new to start a new conversation</h1>\r\n          </div>\r\n        )}\r\n      </header>\r\n\r\n      <div className=\"flex-1  overflow-y-auto px-4 py-6\" ref={chatBoxRef}>\r\n        {allMessages.map((mess, index) => (\r\n          <div key={index} className=\"flex items-start justify-start mb-4\">\r\n            <div className=\"rounded-lg p-4 max-w-xs\" >\r\n              <p className={`${mess.type === \"you\" ? \"text-amber-400\" : \"text-blue-400\"} m-auto`}>{mess.type}</p>\r\n              <p className={`text-xl font-bold font-serif ${mess.type === \"you\" ? \"text-white\" : \"text-white\"}`} >\r\n                {mess.message}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n    <div className=\"bg-white border-t stick border-gray-200\">\r\n        <div className=\"max-w-7xl mx-auto px-4 py-3\">\r\n          <textarea\r\n            value={message}\r\n            onChange={(e) => setMessage(e.target.value)}\r\n            onKeyDown={(e) => handleKeyPress(e)} ref={chatBoxRef}\r\n            className=\"w-full border rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500\"\r\n            placeholder=\"Type your message...\"\r\n           \r\n          />\r\n          <button\r\n            onClick={handleClick}\r\n            className=\"ml-2 bg-blue-500 text-white rounded-lg px-4 py-2 hover:bg-blue-600 focus:outline-none\"\r\n          >\r\n            Send\r\n          </button>\r\n          <button\r\n            onClick={handleStop}\r\n            className=\"ml-2 bg-blue-500 text-white rounded-lg px-4 py-2 hover:bg-blue-600 focus:outline-none\"\r\n          >\r\n            Stop\r\n          </button>\r\n          <button\r\n            onClick={newChat}\r\n            className=\"ml-2 bg-blue-500 text-white rounded-lg px-4 py-2 hover:bg-blue-600 focus:outline-none\"\r\n          >\r\n            New\r\n          </button>\r\n        </div>\r\n      </div>\r\n</>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}