{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kuljeet\\\\Desktop\\\\catchup-final\\\\client\\\\my-app\\\\src\\\\features\\\\Functions\\\\Video.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useState, useRef } from \"react\";\nimport { socket } from \"../socket/Socket\";\nimport { connect, useDispatch, useSelector } from \"react-redux\";\nimport { selectAllMessages, selectAllUsers, selectUserId, setAllMessages } from \"./helpSlice\";\nimport { NavigationType, useNavigate } from \"react-router-dom\";\nimport peer from \"./Peer\";\nimport ReactPlayer from \"react-player\";\nimport \"./video.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Video = () => {\n  _s();\n  const [ms, setMs] = useState(null);\n  const [rs, setRs] = useState(null);\n  const [rec, setRec] = useState(null);\n  const userId = useSelector(selectUserId);\n  const onlineUsers = useSelector(selectAllUsers);\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const newVideo = useCallback(() => {\n    peer.initializePeer();\n    socket.emit(\"pairing-user-video\", userId, error => {\n      return error;\n    });\n    socket.on(\"user-paired\", async ({\n      rid,\n      type\n    }) => {\n      setRec(rid);\n      if (type === \"call\") {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          audio: true,\n          video: true\n        });\n        setMs(stream);\n        const offer = await peer.getOffer();\n        console.log(offer, \"creakjjkted-offer\");\n        socket.emit(\"user:call\", {\n          to: rid,\n          offer\n        });\n      }\n    });\n    socket.on(\"user-call\", async ({\n      from,\n      offer\n    }) => {\n      console.log(offer, \"got-offer\");\n      setRec(from);\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true,\n        video: true\n      });\n      setMs(stream);\n      console.log(\"bheje\", offer);\n      const answer = await peer.getAnswer(offer);\n      socket.emit(\"call:accepted\", {\n        to: from,\n        ans: answer\n      });\n    });\n    socket.on(\"call-accept\", async answer => {\n      console.log(answer, \"cretaed-answer\");\n      await peer.setLocalDescription(answer);\n    });\n    return () => {\n      socket.off(\"user-paired\");\n      socket.off(\"user-call\");\n      socket.off(\"call-accept\");\n    };\n  }, []);\n  useEffect(() => {\n    const trackEventListener = ev => {\n      const remoteStream = ev.streams[0];\n      console.log(\"Got remote tracks\", remoteStream);\n      setRs(remoteStream);\n    };\n    if (peer.peer && peer.peer !== null) {\n      peer.peer.addEventListener(\"track\", trackEventListener);\n    }\n    return () => {\n      if (peer.peer && peer.peer !== null) {\n        peer.peer.removeEventListener(\"track\", trackEventListener);\n      }\n    };\n  }, [rs, peer.peer]);\n  useEffect(() => {\n    if (userId && onlineUsers.find(user => user.id === userId)) {\n      newVideo();\n    } else {\n      navigate(\"/\");\n    }\n  }, []);\n  const handleNegotiation = useCallback(async () => {\n    console.log(\"Negotiation needed\");\n    const offer = await peer.getOffer();\n    console.log(offer, \"nego offer cretaed\");\n    socket.emit(\"peer:nego:needed\", {\n      offer,\n      to: rec\n    });\n  }, [rec]);\n  useEffect(() => {\n    {\n      peer.peer && peer.peer.addEventListener(\"negotiationneeded\", handleNegotiation);\n    }\n    return () => {\n      {\n        peer.peer && peer.peer.removeEventListener(\"negotiationneeded\", handleNegotiation);\n      }\n    };\n  }, [handleNegotiation]);\n  const handleFinalNego = useCallback(async ({\n    from,\n    ans\n  }) => {\n    await peer.setLocalDescription(ans);\n    // helpStream()\n  });\n  useEffect(() => {\n    socket.on(\"peer:nego:needed\", async ({\n      from,\n      offer\n    }) => {\n      console.log(\"Received negotiation needed\");\n      console.log(from, offer);\n      const answer = await peer.getAnswer(offer);\n      socket.emit(\"peer:nego:done\", {\n        to: from,\n        ans: answer\n      });\n    });\n    socket.on(\"peer:nego:done\", async ({\n      from,\n      ans\n    }) => {\n      console.log(\"Negotiation done\", ans);\n      await peer.setRemoteDescription(ans);\n    });\n    socket.on(\"peer:nego:final\", handleFinalNego);\n    return () => {\n      socket.off(\"peer:nego:needed\");\n      socket.off(\"peer:nego:done\");\n      socket.off(\"peer:nego:final\");\n    };\n  }, [rec]);\n  const helpStream = useCallback(() => {\n    if (ms) {\n      for (const track of ms.getTracks()) {\n        peer.peer.addTrack(track, ms);\n      }\n    }\n  }, [ms]);\n\n  // useEffect(()=>{\n  //   if(ms && peer.peer){\n  //     console.log(\"chahha\")\n  //     for (const track of ms.getTracks()) {\n  //       peer.peer.addTrack(track, ms);\n  //     }\n  //   }\n  // },[ms])\n\n  // .....................................................chat....................................................\n  const [message, setMessage] = useState(null);\n  const chatBoxRef = useRef(null);\n  const allMessages = useSelector(selectAllMessages);\n  const handleClick = () => {\n    if (message.length === 0) {\n      return;\n    }\n    dispatch(setAllMessages({\n      message: message,\n      type: \"you\"\n    }));\n    socket.emit(\"send-message\", {\n      rec,\n      message\n    });\n    setMessage(\"\");\n  };\n  const handleKeyPress = e => {\n    if (e.key === \"Enter\") {\n      dispatch(setAllMessages({\n        message: message,\n        type: \"you\"\n      }));\n      socket.emit(\"send-message\", {\n        reciever: rec,\n        message\n      });\n      setMessage(null);\n    }\n  };\n  useEffect(() => {\n    console.log(\"chla\");\n    socket.on(\"send-message\", message => {\n      dispatch(setAllMessages({\n        message: message,\n        type: \"stranger\"\n      }));\n      setMessage(null);\n    });\n    return () => {\n      socket.off(\"send-message\");\n    };\n  }, [dispatch]);\n  const handleStop = () => {\n    // setStop(true);\n    if (rec) {\n      socket.emit(\"chat-close\", rec, () => {\n        return {};\n      });\n      peer.closeConnection();\n      setRec(null);\n      setRs(null);\n      setMs(null);\n      dispatch(setAllMessages({\n        type: \"end\"\n      }));\n    } else {\n      socket.emit(\"unpairing-user-video\", userId, () => {});\n    }\n    // navigate(\"/\")\n  };\n  useEffect(() => {\n    socket.on(\"chat-close\", () => {\n      // setStop(true);\n      peer.closeConnection();\n      setRec(null);\n      dispatch(setAllMessages({\n        type: \"end\"\n      }));\n      setMessage(\"\");\n      setMs(null);\n      setRs(null);\n    });\n    return () => {\n      socket.off(\"chat-close\");\n    };\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sec\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"vc\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vc1\",\n          children: /*#__PURE__*/_jsxDEV(ReactPlayer, {\n            playing: true,\n            muted: true,\n            url: ms,\n            className: \"help\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vc2\",\n          children: /*#__PURE__*/_jsxDEV(ReactPlayer, {\n            playing: true,\n            muted: true,\n            url: rs,\n            className: \"help\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"stop\",\n            onClick: handleStop,\n            children: \"Stop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"new\",\n            onClick: newVideo,\n            children: \"New\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `connected ${ms ? \"con\" : \"ncon\"}`,\n            onClick: helpStream,\n            children: ms ? \"call\" : \"Not-connected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mchat\",\n          ref: chatBoxRef,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), allMessages.map((mess, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start justify-start mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rounded-lg p-4 max-w-xs\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: `${mess.type === \"you\" ? \"text-black\" : \"text-black\"} m-auto`,\n                children: mess.type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `text-xl font-bold font-serif ${mess.type === \"you\" ? \"text-black\" : \"text-black\"}`,\n                children: mess.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 17\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"type\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            style: {\n              backgroundColor: 'lightpink',\n              borderRadius: \"20px\"\n            },\n            type: \"text\",\n            value: message,\n            onChange: e => setMessage(e.target.value),\n            onKeyDown: e => handleKeyPress(e),\n            ref: chatBoxRef\n            // placeholder=\"Type a message...\"\n            ,\n            className: \"input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleClick,\n            className: \"send\",\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(Video, \"QXz/iFk8X24ODHQfomE2gcLrnoA=\", false, function () {\n  return [useSelector, useSelector, useNavigate, useDispatch, useSelector];\n});\n_c = Video;\nexport default Video;\nvar _c;\n$RefreshReg$(_c, \"Video\");","map":{"version":3,"names":["React","useCallback","useEffect","useState","useRef","socket","connect","useDispatch","useSelector","selectAllMessages","selectAllUsers","selectUserId","setAllMessages","NavigationType","useNavigate","peer","ReactPlayer","jsxDEV","_jsxDEV","Fragment","_Fragment","Video","_s","ms","setMs","rs","setRs","rec","setRec","userId","onlineUsers","navigate","dispatch","newVideo","initializePeer","emit","error","on","rid","type","stream","navigator","mediaDevices","getUserMedia","audio","video","offer","getOffer","console","log","to","from","answer","getAnswer","ans","setLocalDescription","off","trackEventListener","ev","remoteStream","streams","addEventListener","removeEventListener","find","user","id","handleNegotiation","handleFinalNego","setRemoteDescription","helpStream","track","getTracks","addTrack","message","setMessage","chatBoxRef","allMessages","handleClick","length","handleKeyPress","e","key","reciever","handleStop","closeConnection","children","className","playing","muted","url","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","map","mess","index","style","backgroundColor","borderRadius","value","onChange","target","onKeyDown","_c","$RefreshReg$"],"sources":["C:/Users/kuljeet/Desktop/catchup-final/client/my-app/src/features/Functions/Video.js"],"sourcesContent":["import React, { useCallback, useEffect, useState, useRef } from \"react\";\r\nimport { socket } from \"../socket/Socket\";\r\nimport { connect, useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  selectAllMessages,\r\n  selectAllUsers,\r\n  selectUserId,\r\n  setAllMessages,\r\n} from \"./helpSlice\";\r\nimport { NavigationType, useNavigate } from \"react-router-dom\";\r\nimport peer from \"./Peer\";\r\nimport ReactPlayer from \"react-player\";\r\nimport \"./video.css\"\r\n\r\nconst Video = () => {\r\n  const [ms, setMs] = useState(null);\r\n  const [rs, setRs] = useState(null);\r\n  const [rec, setRec] = useState(null);\r\n  const userId = useSelector(selectUserId);\r\n  const onlineUsers = useSelector(selectAllUsers);\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const newVideo = useCallback(() => {\r\n   \r\n    peer.initializePeer();\r\n    socket.emit(\"pairing-user-video\", userId, (error) => {\r\n      return error;\r\n    });\r\n\r\n    socket.on(\"user-paired\", async ({ rid, type }) => {\r\n      setRec(rid);\r\n      if (type === \"call\") {\r\n        const stream = await navigator.mediaDevices.getUserMedia({\r\n          audio: true,\r\n          video: true,\r\n        });\r\n        setMs(stream);\r\n\r\n        const offer = await peer.getOffer();\r\n        console.log(offer, \"creakjjkted-offer\");\r\n        socket.emit(\"user:call\", { to: rid, offer });\r\n      }\r\n    });\r\n\r\n    socket.on(\"user-call\", async ({ from, offer }) => {\r\n      console.log(offer, \"got-offer\");\r\n      setRec(from);\r\n      const stream = await navigator.mediaDevices.getUserMedia({\r\n        audio: true,\r\n        video: true,\r\n      });\r\n\r\n      setMs(stream);\r\n      console.log(\"bheje\",offer)\r\n      const answer = await peer.getAnswer(offer);\r\n      socket.emit(\"call:accepted\", { to: from, ans: answer });\r\n    });\r\n\r\n    socket.on(\"call-accept\", async (answer) => {\r\n      console.log(answer, \"cretaed-answer\");\r\n      await peer.setLocalDescription(answer);\r\n    });\r\n\r\n    return () => {\r\n      socket.off(\"user-paired\");\r\n      socket.off(\"user-call\");\r\n      socket.off(\"call-accept\");\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const trackEventListener = (ev) => {\r\n      const remoteStream = ev.streams[0];\r\n      console.log(\"Got remote tracks\", remoteStream);\r\n      setRs(remoteStream);\r\n    };\r\n\r\n    if (peer.peer && peer.peer !== null) {\r\n      peer.peer.addEventListener(\"track\", trackEventListener);\r\n    }\r\n\r\n    return () => {\r\n      if (peer.peer && peer.peer !== null) {\r\n        peer.peer.removeEventListener(\"track\", trackEventListener);\r\n      }\r\n    };\r\n  }, [rs, peer.peer]);\r\n\r\n  useEffect(() => {\r\n    if (userId && onlineUsers.find((user) => user.id === userId)) {\r\n      newVideo();\r\n    } else {\r\n      navigate(\"/\");\r\n    }\r\n  }, []);\r\n\r\n  const handleNegotiation = useCallback(async () => {\r\n    console.log(\"Negotiation needed\");\r\n    const offer = await peer.getOffer();\r\n    console.log(offer, \"nego offer cretaed\");\r\n    socket.emit(\"peer:nego:needed\", { offer, to: rec });\r\n  }, [rec]);\r\n\r\n  useEffect(() => {\r\n    {\r\n      peer.peer &&\r\n        peer.peer.addEventListener(\"negotiationneeded\", handleNegotiation);\r\n    }\r\n    return () => {\r\n      {\r\n        peer.peer &&\r\n          peer.peer.removeEventListener(\"negotiationneeded\", handleNegotiation);\r\n      }\r\n    };\r\n  }, [handleNegotiation]);\r\n\r\n  const handleFinalNego = useCallback(async ({ from, ans }) => {\r\n    await peer.setLocalDescription(ans);\r\n    // helpStream()\r\n  });\r\n\r\n  useEffect(() => {\r\n    socket.on(\"peer:nego:needed\", async ({ from, offer }) => {\r\n      console.log(\"Received negotiation needed\");\r\n      console.log(from, offer);\r\n      const answer = await peer.getAnswer(offer);\r\n      socket.emit(\"peer:nego:done\", { to: from, ans: answer });\r\n    });\r\n\r\n    socket.on(\"peer:nego:done\", async ({ from, ans }) => {\r\n      console.log(\"Negotiation done\", ans);\r\n      await peer.setRemoteDescription(ans);\r\n    });\r\n\r\n    socket.on(\"peer:nego:final\", handleFinalNego);\r\n\r\n    return () => {\r\n      socket.off(\"peer:nego:needed\");\r\n      socket.off(\"peer:nego:done\");\r\n      socket.off(\"peer:nego:final\");\r\n    };\r\n  }, [rec]);\r\n\r\n  const helpStream = useCallback(() => {\r\n     \r\n   if(ms ){\r\n     \r\n      for (const track of ms.getTracks()) {\r\n        peer.peer.addTrack(track, ms);\r\n      }\r\n    }\r\n\r\n\r\n  }, [ms]);\r\n\r\n\r\n  // useEffect(()=>{\r\n  //   if(ms && peer.peer){\r\n  //     console.log(\"chahha\")\r\n  //     for (const track of ms.getTracks()) {\r\n  //       peer.peer.addTrack(track, ms);\r\n  //     }\r\n  //   }\r\n  // },[ms])\r\n\r\n  // .....................................................chat....................................................\r\n  const [message, setMessage] = useState(null);\r\n  const chatBoxRef = useRef(null);\r\n  const allMessages = useSelector(selectAllMessages);\r\n\r\n  const handleClick = () => {\r\n    if (message.length === 0) {\r\n      return;\r\n    }\r\n    dispatch(setAllMessages({ message: message, type: \"you\" }));\r\n    socket.emit(\"send-message\", { rec, message });\r\n    setMessage(\"\");\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      dispatch(setAllMessages({ message: message, type: \"you\" }));\r\n      socket.emit(\"send-message\", { reciever: rec, message });\r\n      setMessage(null);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"chla\");\r\n    socket.on(\"send-message\", (message) => {\r\n      dispatch(setAllMessages({ message: message, type: \"stranger\" }));\r\n      setMessage(null);\r\n    });\r\n    return () => {\r\n      socket.off(\"send-message\");\r\n    };\r\n  }, [dispatch]);\r\n\r\n  const handleStop = () => {\r\n    // setStop(true);\r\n    if (rec) {\r\n      socket.emit(\"chat-close\", rec, () => {\r\n        return {};\r\n      });\r\n      peer.closeConnection();\r\n      setRec(null);\r\n      setRs(null);\r\n      setMs(null);\r\n\r\n      dispatch(setAllMessages({ type: \"end\" }));\r\n\r\n    } else {\r\n      socket.emit(\"unpairing-user-video\", userId, () => {});\r\n    }\r\n    // navigate(\"/\")\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.on(\"chat-close\", () => {\r\n      // setStop(true);\r\n      peer.closeConnection();\r\n      setRec(null);\r\n      dispatch(setAllMessages({ type: \"end\" }));\r\n      setMessage(\"\");\r\n      setMs(null);\r\n      setRs(null);\r\n    });\r\n    return () => {\r\n      socket.off(\"chat-close\");\r\n    };\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"sec\">\r\n        <div className=\"vc\">\r\n          <div className=\"vc1\">\r\n            <ReactPlayer\r\n              playing\r\n              muted\r\n          \r\n              url={ms}\r\n              className=\"help\"\r\n\r\n            />\r\n          </div>\r\n          <div className=\"vc2\">\r\n            <ReactPlayer\r\n              playing\r\n              muted\r\n             url={rs}\r\n              className=\"help\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"chat\">\r\n          <div className=\"buttons\">\r\n            <button className=\"stop\" onClick={handleStop}>\r\n              Stop\r\n            </button>\r\n            <button className=\"new\" onClick={newVideo}>\r\n              New\r\n            </button>\r\n            {/* <button className=\"\">{rec ? \"found\" : \"Not found\"}</button> */}\r\n            <button className={`connected ${ms?\"con\":\"ncon\"}`}  onClick={helpStream}>\r\n              {ms ? \"call\" : \"Not-connected\"}\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"mchat\" ref={chatBoxRef}>\r\n            <h1>Chat</h1>\r\n            {allMessages.map((mess, index) => (\r\n              <div key={index} className=\"flex items-start justify-start mb-4\">\r\n                <div className=\"rounded-lg p-4 max-w-xs\">\r\n                  <p\r\n                    className={`${\r\n                      mess.type === \"you\" ? \"text-black\" : \"text-black\"\r\n                    } m-auto`}\r\n                  >\r\n                    {mess.type}\r\n                  </p>\r\n                  <p\r\n                    className={`text-xl font-bold font-serif ${\r\n                      mess.type === \"you\" ? \"text-black\" : \"text-black\"\r\n                    }`}\r\n                  >\r\n                    {mess.message}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <div className=\"type\">\r\n            <input\r\n             style={{ backgroundColor: 'lightpink',     borderRadius:\"20px\"}}\r\n              type=\"text\"\r\n              value={message}\r\n              onChange={(e) => setMessage(e.target.value)}\r\n              onKeyDown={(e) => handleKeyPress(e)}\r\n              ref={chatBoxRef}\r\n              // placeholder=\"Type a message...\"\r\n              className=\"input\"\r\n            />\r\n            <button onClick={handleClick} className=\"send\">\r\n              Send\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Video;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}